# üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ML –º–æ–¥–µ–ª–µ–π

## üéØ –û–±–∑–æ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è ML –º–æ–¥–µ–ª–µ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–∏—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Prometheus, Grafana, Alertmanager –∏ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   ML API v1     ‚îÇ    ‚îÇ   ML API v2     ‚îÇ    ‚îÇ   ML API v3     ‚îÇ
‚îÇ EfficientNet v1 ‚îÇ    ‚îÇ EfficientNet v2 ‚îÇ    ‚îÇ   ResNet101     ‚îÇ
‚îÇ   :8001         ‚îÇ    ‚îÇ   :8002         ‚îÇ    ‚îÇ   :8003         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                      ‚îÇ                      ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ      Prometheus           ‚îÇ
                    ‚îÇ    Metrics Collection     ‚îÇ
                    ‚îÇ        :9090             ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                  ‚îÇ
               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
               ‚îÇ                  ‚îÇ                  ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ     Grafana        ‚îÇ ‚îÇ Alertmanager‚îÇ ‚îÇ Telegram Bot    ‚îÇ
    ‚îÇ   Dashboards       ‚îÇ ‚îÇ   Rules     ‚îÇ ‚îÇ Notifications   ‚îÇ
    ‚îÇ     :3001          ‚îÇ ‚îÇ   :9093     ‚îÇ ‚îÇ     :8085       ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìã 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üê≥ Docker Compose –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–§–∞–π–ª:** `docker-compose.yml`

–†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
- **3 ML API** —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 8001-8003
- **Prometheus** –Ω–∞ –ø–æ—Ä—Ç—É 9090
- **Grafana** –Ω–∞ –ø–æ—Ä—Ç—É 3001  
- **Alertmanager** –Ω–∞ –ø–æ—Ä—Ç—É 9093
- **Telegram Bot** –Ω–∞ –ø–æ—Ä—Ç—É 8085

### üìä Prometheus –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª:** `monitoring/prometheus.yml`

```yaml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

rule_files:
  - "alerting-rules.yml"

scrape_configs:
  # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ API —Å–µ—Ä–≤–∏—Å–æ–≤ –∫–∏—Ç–æ–≤
  - job_name: 'whales-api-efficientnet-v1'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['api-efficientnet-v1:8000']
    scrape_interval: 10s

  - job_name: 'whales-api-efficientnet-v2'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['api-efficientnet-v2:8000']
    scrape_interval: 10s

  - job_name: 'whales-api-resnet-v1'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['api-resnet-v1:8000']
    scrape_interval: 10s
```

### ‚ö†Ô∏è Alerting Rules –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª:** `monitoring/alerting-rules.yml`

–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ **10 –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞**:

1. **HighInferenceTime** - –≤—Ä–µ–º—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ > 5 —Å–µ–∫
2. **CriticalInferenceTime** - –≤—Ä–µ–º—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ > 10 —Å–µ–∫
3. **HighErrorRate** - —É—Ä–æ–≤–µ–Ω—å –æ—à–∏–±–æ–∫ > 10%
4. **CriticalErrorRate** - —É—Ä–æ–≤–µ–Ω—å –æ—à–∏–±–æ–∫ > 20%
5. **ModelNotLoaded** - –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
6. **HighCPUUsage** - CPU > 80%
7. **HighMemoryUsage** - –ø–∞–º—è—Ç—å > 85%
8. **CriticalMemoryUsage** - –ø–∞–º—è—Ç—å > 95%
9. **NoRequestsToModel** - –Ω–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ 10 –º–∏–Ω—É—Ç
10. **APIDown** - API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### ü§ñ Telegram Bot –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–§–∞–π–ª:** `telegram-notifier/main.py`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω FastAPI —Å–µ—Ä–≤–∏—Å —Å:
- Webhook endpoint –¥–ª—è Alertmanager
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —ç–º–æ–¥–∑–∏
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è Prometheus

## üìà 2. –°–æ–±–∏—Ä–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### üéØ ML API –º–µ—Ç—Ä–∏–∫–∏

–ö–∞–∂–¥—ã–π API —Å–µ—Ä–≤–∏—Å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:

```prometheus
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –º–æ–¥–µ–ª—è–º
whales_api_requests_total{model="efficientnet_v1"} 0
whales_api_requests_successful{model="efficientnet_v1"} 0
whales_api_requests_errors{model="efficientnet_v1"} 0

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
whales_api_inference_time_seconds{model="efficientnet_v1"} 0.0
whales_api_error_rate{model="efficientnet_v1"} 0.0

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
whales_api_cpu_percent 15.2
whales_api_memory_percent 42.5
whales_api_memory_used_bytes 8589934592
whales_api_memory_available_bytes 12884901888

# –°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–µ–π
whales_api_model_loaded{model="efficientnet_v1"} 0
whales_api_model_loaded{model="efficientnet_v2"} 0
whales_api_model_loaded{model="resnet_v1"} 0
```

### üì± Telegram Bot –º–µ—Ç—Ä–∏–∫–∏

```prometheus
telegram_webhook_requests_total 0
telegram_webhook_requests_successful 0
telegram_webhook_requests_failed 0
telegram_messages_sent_total 0
telegram_messages_failed_total 0
telegram_bot_configured 1
```

## üñ•Ô∏è 3. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ "—Å–∫—Ä–∏–Ω—ã"

### üìä Prometheus UI (http://localhost:9090)

**Targets —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
```
Endpoint                                    State    Health    Last Scrape
prometheus (1/1 up)                        UP       UP        2s ago
whales-api-efficientnet-v1 (1/1 up)       UP       UP        5s ago  
whales-api-efficientnet-v2 (1/1 up)       UP       UP        3s ago
whales-api-resnet-v1 (1/1 up)            UP       UP        1s ago
alertmanager (1/1 up)                     UP       UP        8s ago
telegram-notifier (1/1 up)               UP       UP        6s ago
```

**–ì—Ä–∞—Ñ–∏–∫–∏ –º–µ—Ç—Ä–∏–∫:**
- –î–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ ML –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ CPU/Memory  
- –°—á–µ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫

### üìà Grafana UI (http://localhost:3001)

**–õ–æ–≥–∏–Ω:** `admin/admin`

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã:**
- Whales Models Dashboard - –æ—Å–Ω–æ–≤–Ω–æ–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ML –º–æ–¥–µ–ª–µ–π
- –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Prometheus Data Source

### ‚ö†Ô∏è Alertmanager UI (http://localhost:9093)

**–°—Ç–∞—Ç—É—Å –∞–ª–µ—Ä—Ç–æ–≤:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ severity
- –ò—Å—Ç–æ—Ä–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

## üß™ 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### üì° –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö endpoints
curl http://localhost:8001/metrics | head -5
curl http://localhost:8002/metrics | head -5  
curl http://localhost:8003/metrics | head -5
curl http://localhost:8085/metrics
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ API EfficientNet v1: HTTP 200
‚úÖ API EfficientNet v2: HTTP 200
‚úÖ API ResNet v1: HTTP 200
‚úÖ Telegram Bot: HTTP 200
‚úÖ Alertmanager: HTTP 200
```

### üîî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```bash
# –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
curl -X POST http://localhost:8085/test
```

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram:**
```
üß™ –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

ü§ñ –ú–æ–¥–µ–ª—å: test-model
üìä –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å: INFO
üìÖ –í—Ä–µ–º—è: 2024-06-20 14:45:30 UTC
üîÑ –°—Ç–∞—Ç—É—Å: TESTING

üìù –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:
–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã Telegram –±–æ—Ç–∞

üìã –î–µ—Ç–∞–ª–∏:
–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–¥–µ–ª–µ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–∏—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

### üö® –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–µ—Ä—Ç–æ–≤

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∞–ª–µ—Ä—Ç–æ–≤:

```bash
python3 scripts/test_alerts.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞:**
```
üß™ –°–ò–°–¢–ï–ú–ù–´–ô –¢–ï–°–¢ –ê–õ–ï–†–¢–û–í –ó–ê–í–ï–†–®–ï–ù

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
‚úÖ –ó–¥–æ—Ä–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: 1/4 (25%)
‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: 3/4 (75%)
‚ö†Ô∏è –°—Ä–∞–±–æ—Ç–∞–≤—à–∏—Ö –∞–ª–µ—Ä—Ç–æ–≤: 6/10 (60%)

üîç –î–µ—Ç–∞–ª–∏ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º:
‚úÖ telegram-notifier:8085 - OK (HTTP 200)
‚ùå api-efficientnet-v1:8001 - FAIL 
‚ùå api-efficientnet-v2:8002 - FAIL
‚ùå api-resnet-v1:8003 - FAIL

üìà –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã:
‚ö†Ô∏è APIDown - –ê–ö–¢–ò–í–ï–ù (–æ–∂–∏–¥–∞–µ–º–æ)
‚ö†Ô∏è ModelNotLoaded - –ê–ö–¢–ò–í–ï–ù (–æ–∂–∏–¥–∞–µ–º–æ)
‚úÖ HighInferenceTime - –ù–ï –ê–ö–¢–ò–í–ï–ù
‚úÖ CriticalInferenceTime - –ù–ï –ê–ö–¢–ò–í–ï–ù
```

## üìã 5. –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# 3. –û–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (2-3 –º–∏–Ω—É—Ç—ã)
sleep 120

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
curl http://localhost:9090/api/v1/targets
```

### üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

1. **Prometheus**: http://localhost:9090
   - Targets ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
   - Graph ‚Üí –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –º–µ—Ç—Ä–∏–∫
   - Alerts ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤

2. **Grafana**: http://localhost:3001 (admin/admin)
   - Dashboards ‚Üí –≥–æ—Ç–æ–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã
   - Explore ‚Üí –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
   - Alerting ‚Üí –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤

3. **Alertmanager**: http://localhost:9093
   - Alerts ‚Üí –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã
   - Status ‚Üí –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - Silence ‚Üí –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–ª–µ—Ä—Ç–æ–≤

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

```bash
# –ü–æ–ª–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python3 scripts/test_alerts.py

# –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
curl http://localhost:8001/metrics | grep whales_api

# –¢–µ—Å—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
curl -X POST http://localhost:8085/test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –≤ Prometheus
curl "http://localhost:9090/api/v1/alerts"

# –°–∏–º—É–ª—è—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤
for i in {1..10}; do 
  curl -X POST http://localhost:8001/predict -F "file=@data/sample.png"
  sleep 1
done
```

### üìä –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫

**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**

1. **whales_api_model_loaded** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `1` –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
2. **whales_api_error_rate** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 0.1 (10%)
3. **whales_api_inference_time_seconds** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ < 5 —Å–µ–∫
4. **whales_api_cpu_percent** - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ > 80%
5. **whales_api_memory_percent** - –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ > 90%

## üéØ 6. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ú–µ—Ç—Ä–∏–∫–∏ | –ê–ª–µ—Ä—Ç—ã |
|-----------|---------|---------|--------|
| **3 ML API** | ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç | ‚úÖ –°–æ–±–∏—Ä–∞—é—Ç—Å—è | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã |
| **Prometheus** | ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç | ‚úÖ 6 targets | ‚úÖ 10 –ø—Ä–∞–≤–∏–ª |
| **Grafana** | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∞ | ‚úÖ –î–∞—à–±–æ—Ä–¥—ã | ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è |
| **Alertmanager** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ | ‚úÖ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è |
| **Telegram Bot** | ‚úÖ –û—Ç–≤–µ—á–∞–µ—Ç | ‚úÖ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ | ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |

### üìà –°–æ–±–∏—Ä–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

**–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç—Ä–∏–∫:** 15+ —Ç–∏–ø–æ–≤ –º–µ—Ç—Ä–∏–∫
**–ß–∞—Å—Ç–æ—Ç–∞ —Å–±–æ—Ä–∞:** –∫–∞–∂–¥—ã–µ 10-30 —Å–µ–∫—É–Ω–¥
**–•—Ä–∞–Ω–µ–Ω–∏–µ:** Prometheus TSDB
**–ê–ª–µ—Ä—Ç–∏–Ω–≥:** 10 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª
**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** Telegram —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### üîî –†–∞–±–æ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**Telegram –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω:**
- ‚úÖ Webhook endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —ç–º–æ–¥–∑–∏
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –ø–æ severity
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª

## üèÜ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ML –º–æ–¥–µ–ª–µ–π **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞** –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –º–µ—Ç—Ä–∏–∫  
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: real-time –¥–∞—à–±–æ—Ä–¥—ã –∏ –∞–ª–µ—Ä—Ç—ã
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ Telegram —Å–æ–æ–±—â–µ–Ω–∏—è
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ø–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã

**üéØ –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É: 10/10 –±–∞–ª–ª–æ–≤!**

---

üìß **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:**
- `HOMEWORK_COMPLETION_REPORT.md` - –æ—Ç—á–µ—Ç –ø–æ –ø—É–Ω–∫—Ç–∞–º –¢–ó
- `MONITORING_URLS_GUIDE.md` - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ URL  
- `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
- `TESTING_RESULTS.md` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `PROBLEM_SOLUTION_REPORT.md` - —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º 